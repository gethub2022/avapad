"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{96844:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;var n=r(26221);Object.defineProperty(t,"SafeAppProvider",{enumerable:!0,get:function(){return n.SafeAppProvider}})},26221:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;const n=r(17187),o=r(11509);class s extends n.EventEmitter{constructor(e,t){super(),this.submittedTxs=new Map,this.safe=e,this.sdk=t}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(e){const{method:t,params:r=[]}=e;switch(t){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return`0x${this.chainId.toString(16)}`;case"personal_sign":{const[e,t]=r;if(this.safe.safeAddress.toLowerCase()!==t.toLowerCase())throw new Error("The address or message hash is invalid");return await this.sdk.txs.signMessage(e),"0x"}case"eth_sign":{const[e,t]=r;if(this.safe.safeAddress.toLowerCase()!==e.toLowerCase()||!t.startsWith("0x"))throw new Error("The address or message hash is invalid");return await this.sdk.txs.signMessage(t),"0x"}case"eth_sendTransaction":const t=Object.assign({value:"0",data:"0x"},r[0]),s=await this.sdk.txs.send({txs:[t]});return this.submittedTxs.set(s.safeTxHash,{from:this.safe.safeAddress,hash:s.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:t.data,value:t.value,to:t.to,blockHash:null,blockNumber:null,transactionIndex:null}),s.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,o.getLowerCase)(r[0]),r[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,o.getLowerCase)(r[0]),r[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,o.getLowerCase)(r[0]),r[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,o.getLowerCase)(r[0]),r[1],r[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([r[0],r[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([r[0],r[1]]);case"eth_getTransactionByHash":let i=r[0];try{i=(await this.sdk.txs.getBySafeTxHash(i)).txHash||i}catch(n){}return this.submittedTxs.has(i)?this.submittedTxs.get(i):this.sdk.eth.getTransactionByHash([i]).then((e=>(e&&(e.hash=r[0]),e)));case"eth_getTransactionReceipt":{let e=r[0];try{e=(await this.sdk.txs.getBySafeTxHash(e)).txHash||e}catch(n){}return this.sdk.eth.getTransactionReceipt([e]).then((e=>(e&&(e.transactionHash=r[0]),e)))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(r[0]);case"eth_call":return this.sdk.eth.call([r[0],r[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([r[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();default:throw Error(`"${e.method}" not implemented`)}}send(e,t){e||t("Undefined request"),this.request(e).then((r=>t(null,{jsonrpc:"2.0",id:e.id,result:r}))).catch((e=>t(e,null)))}}t.SafeAppProvider=s},11509:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getLowerCase=void 0,t.getLowerCase=function(e){return e?e.toLowerCase():e}},55621:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});const s=r(36750);t.default=class{constructor(e=null,t=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isValidMessage=({origin:e,data:t,source:r})=>{const n=!t,o=r===window.parent,s=("undefined"!==typeof t.version&&parseInt(t.version.split(".")[0]))>=1;let i=!0;return Array.isArray(this.allowedOrigins)&&(i=void 0!==this.allowedOrigins.find((t=>t.test(e)))),!n&&o&&s&&i},this.logIncomingMessage=e=>{console.info(`Safe Apps SDK v1: A message was received from origin ${e.origin}. `,e.data)},this.onParentMessage=e=>{this.isValidMessage(e)&&(this.debugMode&&this.logIncomingMessage(e),this.handleIncomingMessage(e.data))},this.handleIncomingMessage=e=>{const{id:t}=e,r=this.callbacks.get(t);r&&(r(e),this.callbacks.delete(t))},this.send=(e,t)=>{const r=s.MessageFormatter.makeRequest(e,t);if("undefined"===typeof window)throw new Error("Window doesn't exist");return window.parent.postMessage(r,"*"),new Promise(((e,t)=>{this.callbacks.set(r.id,(r=>{r.success?e(r):t(new Error(r.error))}))}))},this.allowedOrigins=e,this.debugMode=t,window.addEventListener("message",this.onParentMessage)}},o(r(92628),t)},36750:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageFormatter=void 0;const n=r(56036),o=r(78855);class s{}t.MessageFormatter=s,s.makeRequest=(e,t)=>({id:(0,o.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,n.getSDKVersion)()}}),s.makeResponse=(e,t,r)=>({id:e,success:!0,version:r,data:t}),s.makeErrorResponse=(e,t,r)=>({id:e,success:!1,error:t,version:r})},92628:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0,function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage"}(t.Methods||(t.Methods={}))},78855:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateRequestId=void 0;const r=e=>e.toString(16).padStart(2,"0");t.generateRequestId=()=>"undefined"!==typeof window?(e=>{const t=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(t),Array.from(t,r).join("")})(10):(new Date).getTime().toString(36)},71068:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RPC_CALLS=void 0,t.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas"}},60770:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Eth=void 0;const n=r(71068),o=r(92628),s={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};t.Eth=class{constructor(e){this.communicator=e,this.call=this.buildRequest({call:n.RPC_CALLS.eth_call,formatters:[null,s.defaultBlockParam]}),this.getBalance=this.buildRequest({call:n.RPC_CALLS.eth_getBalance,formatters:[null,s.defaultBlockParam]}),this.getCode=this.buildRequest({call:n.RPC_CALLS.eth_getCode,formatters:[null,s.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:n.RPC_CALLS.eth_getStorageAt,formatters:[null,s.blockNumberToHex,s.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:n.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:n.RPC_CALLS.eth_getBlockByHash,formatters:[null,s.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:n.RPC_CALLS.eth_getBlockByNumber,formatters:[s.blockNumberToHex,s.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:n.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:n.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:n.RPC_CALLS.eth_getTransactionCount,formatters:[null,s.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:n.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=e=>this.buildRequest({call:n.RPC_CALLS.eth_estimateGas})([e])}buildRequest(e){const{call:t,formatters:r}=e;return async e=>{r&&Array.isArray(e)&&r.forEach(((t,r)=>{t&&(e[r]=t(e[r]))}));const n={call:t,params:e||[]};return(await this.communicator.send(o.Methods.rpcCall,n)).data}}}},85822:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const i=s(r(15381));t.default=i.default,o(r(15381),t),o(r(73302),t),o(r(92628),t),o(r(36750),t);var a=r(56036);Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return a.getSDKVersion}})},26016:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Safe=void 0;const n=r(32828),o=r(73726),s=r(92628),i=r(71068);t.Safe=class{constructor(e){this.communicator=e}async getChainInfo(){return(await this.communicator.send(s.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(s.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:e="usd"}={}){return(await this.communicator.send(s.Methods.getSafeBalances,{currency:e})).data}async check1271Signature(e,t="0x"){const r=await this.getInfo(),n=o.EIP_1271_INTERFACE.encodeFunctionData("isValidSignature",[e,t]),a={call:i.RPC_CALLS.eth_call,params:[{to:r.safeAddress,data:n},"latest"]};try{return(await this.communicator.send(s.Methods.rpcCall,a)).data.slice(0,10).toLowerCase()===o.MAGIC_VALUE}catch(c){return!1}}async check1271SignatureBytes(e,t="0x"){const r=await this.getInfo(),a=n.ethers.utils.arrayify(e),c=o.EIP_1271_BYTES_INTERFACE.encodeFunctionData("isValidSignature",[a,t]),u={call:i.RPC_CALLS.eth_call,params:[{to:r.safeAddress,data:c},"latest"]};try{return(await this.communicator.send(s.Methods.rpcCall,u)).data.slice(0,10).toLowerCase()===o.MAGIC_VALUE_BYTES}catch(l){return!1}}calculateMessageHash(e){return n.ethers.utils.hashMessage(e)}async isMessageSigned(e,t="0x"){const r=this.calculateMessageHash(e);return await this.isMessageHashSigned(r,t)}async isMessageHashSigned(e,t="0x"){const r=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const n of r){if(await n(e,t))return!0}return!1}}},73726:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MAGIC_VALUE_BYTES=t.MAGIC_VALUE=t.EIP_1271_BYTES_INTERFACE=t.EIP_1271_INTERFACE=void 0;const n=r(32828);t.MAGIC_VALUE="0x1626ba7e";t.MAGIC_VALUE_BYTES="0x20c13b0b";const o=new n.ethers.utils.Interface(["function isValidSignature(bytes32 _dataHash, bytes calldata _signature) external view"]);t.EIP_1271_INTERFACE=o;const s=new n.ethers.utils.Interface(["function isValidSignature(bytes calldata _data, bytes calldata _signature) public view"]);t.EIP_1271_BYTES_INTERFACE=s},15381:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(55621)),s=r(44931),i=r(60770),a=r(26016);t.default=class{constructor(e={}){const{whitelistedDomains:t=null,debug:r=!1}=e;this.communicator=new o.default(t,r),this.eth=new i.Eth(this.communicator),this.txs=new s.TXs(this.communicator),this.safe=new a.Safe(this.communicator)}}},44931:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TXs=void 0;const n=r(92628);t.TXs=class{constructor(e){this.communicator=e}async getBySafeTxHash(e){if(!e)throw new Error("Invalid safeTxHash");return(await this.communicator.send(n.Methods.getTxBySafeTxHash,{safeTxHash:e})).data}async signMessage(e){const t={message:e};return(await this.communicator.send(n.Methods.signMessage,t)).data}async send({txs:e,params:t}){if(!e||!e.length)throw new Error("No transactions were passed");const r={txs:e,params:t};return(await this.communicator.send(n.Methods.sendTransactions,r)).data}}},23672:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Operation=void 0,function(e){e[e.CALL=0]="CALL",e[e.DELEGATE=1]="DELEGATE"}(t.Operation||(t.Operation={}))},73302:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(24644),t),o(r(49741),t),o(r(23672),t),o(r(52350),t)},52350:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});r(92628)},49741:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},24644:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},56036:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const o=n(r(72010));t.getSDKVersion=()=>o.default.version.slice(0,5)},40188:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppConnector=void 0;const o=r(26939),s=n(r(85822)),i=r(96844);class a extends o.AbstractConnector{constructor(){super(...arguments),this.sdk=new s.default}async activate(){if(!(await this.isSafeApp()))throw new Error("The app is loaded outside safe context");return{provider:await this.getProvider(),chainId:await this.getChainId(),account:await this.getAccount()}}async getSafeInfo(){return this.safe||(this.safe=await this.sdk.safe.getInfo()),this.safe}async getProvider(){if(!this.provider){const e=await this.getSafeInfo();this.provider=new i.SafeAppProvider(e,this.sdk)}return this.provider}async getChainId(){return(await this.getProvider()).chainId}async getAccount(){return(await this.getSafeInfo()).safeAddress}deactivate(){}async isSafeApp(){if((null===window||void 0===window?void 0:window.parent)===window)return!1;return!!(await Promise.race([this.getSafeInfo(),new Promise((e=>setTimeout(e,300)))]))}}t.SafeAppConnector=a},15495:function(e,t,r){t.$y=t.P=void 0;var n=r(40188);Object.defineProperty(t,"P",{enumerable:!0,get:function(){return n.SafeAppConnector}});var o=r(17546);Object.defineProperty(t,"$y",{enumerable:!0,get:function(){return o.useSafeAppConnection}})},17546:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSafeAppConnection=void 0;const o=n(r(67294)),s=r(77044);t.useSafeAppConnection=function(e){const{activate:t,active:r}=(0,s.useWeb3React)(),[n,i]=o.default.useState(!1);return o.default.useEffect((()=>{e.isSafeApp().then((r=>{r?t(e,void 0,!0).catch((()=>{i(!0)})):i(!0)}))}),[t,e]),o.default.useEffect((()=>{r&&i(!0)}),[r]),n}},32828:function(e,t,r){r.r(t),r.d(t,{BaseContract:function(){return a.VZ},BigNumber:function(){return c.O$},Contract:function(){return a.CH},ContractFactory:function(){return a.lV},FixedNumber:function(){return u.xs},Signer:function(){return l.E},VoidSigner:function(){return l.b},Wallet:function(){return d.Wallet},Wordlist:function(){return Re.D},constants:function(){return n},errors:function(){return _.ErrorCode},ethers:function(){return i},getDefaultProvider:function(){return Ce},logger:function(){return tt},providers:function(){return o},utils:function(){return s},version:function(){return et},wordlists:function(){return Ae.E}});var n={};r.r(n),r.d(n,{AddressZero:function(){return h.d},EtherSymbol:function(){return p},HashZero:function(){return g.R},MaxInt256:function(){return f.PS},MaxUint256:function(){return f.Bz},MinInt256:function(){return f.$B},NegativeOne:function(){return f.tL},One:function(){return f.fh},Two:function(){return f.Py},WeiPerEther:function(){return f.Ce},Zero:function(){return f._Y}});var o={};r.r(o),r.d(o,{AlchemyProvider:function(){return j},AlchemyWebSocketProvider:function(){return L},BaseProvider:function(){return b.Zk},CloudflareProvider:function(){return D},EtherscanProvider:function(){return Y},FallbackProvider:function(){return fe},Formatter:function(){return k.Mb},InfuraProvider:function(){return be},InfuraWebSocketProvider:function(){return ye},IpcProvider:function(){return ge},JsonRpcBatchProvider:function(){return we},JsonRpcProvider:function(){return v.r},JsonRpcSigner:function(){return v.C},NodesmithProvider:function(){return ve},PocketProvider:function(){return Ee},Provider:function(){return m.zt},Resolver:function(){return b.H2},StaticJsonRpcProvider:function(){return x},UrlJsonRpcProvider:function(){return O},Web3Provider:function(){return Se.Q},WebSocketProvider:function(){return A},getDefaultProvider:function(){return Ce},getNetwork:function(){return y.H},isCommunityResourcable:function(){return k.Ed},isCommunityResource:function(){return k.Gp},showThrottleMessage:function(){return k.vh}});var s={};r.r(s),r.d(s,{AbiCoder:function(){return Ie.R},ConstructorFragment:function(){return xe.Xg},ErrorFragment:function(){return xe.IC},EventFragment:function(){return xe.QV},FormatTypes:function(){return xe.pc},Fragment:function(){return xe.HY},FunctionFragment:function(){return xe.YW},HDNode:function(){return Ke.HDNode},Indexed:function(){return Ne.Hk},Interface:function(){return Ne.vU},LogDescription:function(){return Ne.CC},Logger:function(){return _.Logger},ParamType:function(){return xe._R},RLP:function(){return $e},SigningKey:function(){return Je.SigningKey},SupportedAlgorithm:function(){return Qe.p},TransactionDescription:function(){return Ne.vk},TransactionTypes:function(){return K.TransactionTypes},UnicodeNormalizationForm:function(){return ze.Uj},Utf8ErrorFuncs:function(){return ze.te},Utf8ErrorReason:function(){return ze.Uw},_TypedDataEncoder:function(){return He.E},_fetchData:function(){return q._fetchData},_toEscapedUtf8String:function(){return ze.U$},accessListify:function(){return K.accessListify},arrayify:function(){return H.arrayify},base58:function(){return je.Base58},base64:function(){return Le},checkProperties:function(){return w.checkProperties},checkResultErrors:function(){return Oe.BR},commify:function(){return Xe.commify},computeAddress:function(){return K.computeAddress},computeHmac:function(){return Ve.Gy},computePublicKey:function(){return Je.computePublicKey},concat:function(){return H.concat},deepCopy:function(){return w.deepCopy},defaultAbiCoder:function(){return Ie.$},defaultPath:function(){return Ke.defaultPath},defineReadOnly:function(){return w.defineReadOnly},entropyToMnemonic:function(){return Ke.entropyToMnemonic},fetchJson:function(){return q.fetchJson},formatBytes32String:function(){return Ye.s},formatEther:function(){return Xe.formatEther},formatUnits:function(){return Xe.formatUnits},getAccountPath:function(){return Ke.getAccountPath},getAddress:function(){return Be.getAddress},getContractAddress:function(){return Be.getContractAddress},getCreate2Address:function(){return Be.getCreate2Address},getIcapAddress:function(){return Be.getIcapAddress},getJsonWalletAddress:function(){return qe.Rb},getStatic:function(){return w.getStatic},hashMessage:function(){return Me.r},hexConcat:function(){return H.hexConcat},hexDataLength:function(){return H.hexDataLength},hexDataSlice:function(){return H.hexDataSlice},hexStripZeros:function(){return H.hexStripZeros},hexValue:function(){return H.hexValue},hexZeroPad:function(){return H.hexZeroPad},hexlify:function(){return H.hexlify},id:function(){return De.id},isAddress:function(){return Be.isAddress},isBytes:function(){return H.isBytes},isBytesLike:function(){return H.isBytesLike},isHexString:function(){return H.isHexString},isValidMnemonic:function(){return Ke.isValidMnemonic},isValidName:function(){return Ue.r},joinSignature:function(){return H.joinSignature},keccak256:function(){return Fe.keccak256},mnemonicToEntropy:function(){return Ke.mnemonicToEntropy},mnemonicToSeed:function(){return Ke.mnemonicToSeed},namehash:function(){return Ue.V},nameprep:function(){return Ze.Ll},parseBytes32String:function(){return Ye.F},parseEther:function(){return Xe.parseEther},parseTransaction:function(){return K.parse},parseUnits:function(){return Xe.parseUnits},poll:function(){return q.poll},randomBytes:function(){return We.O},recoverAddress:function(){return K.recoverAddress},recoverPublicKey:function(){return Je.recoverPublicKey},resolveProperties:function(){return w.resolveProperties},ripemd160:function(){return Ve.bP},serializeTransaction:function(){return K.serialize},sha256:function(){return Ve.JQ},sha512:function(){return Ve.o},shallowCopy:function(){return w.shallowCopy},shuffled:function(){return X.y},solidityKeccak256:function(){return Ge.keccak256},solidityPack:function(){return Ge.pack},soliditySha256:function(){return Ge.sha256},splitSignature:function(){return H.splitSignature},stripZeros:function(){return H.stripZeros},toUtf8Bytes:function(){return ze.Y0},toUtf8CodePoints:function(){return ze.XL},toUtf8String:function(){return ze.ZN},verifyMessage:function(){return d.verifyMessage},verifyTypedData:function(){return d.verifyTypedData},zeroPad:function(){return H.zeroPad}});var i={};r.r(i),r.d(i,{BaseContract:function(){return a.VZ},BigNumber:function(){return c.O$},Contract:function(){return a.CH},ContractFactory:function(){return a.lV},FixedNumber:function(){return u.xs},Signer:function(){return l.E},VoidSigner:function(){return l.b},Wallet:function(){return d.Wallet},Wordlist:function(){return Re.D},constants:function(){return n},errors:function(){return _.ErrorCode},getDefaultProvider:function(){return Ce},logger:function(){return tt},providers:function(){return o},utils:function(){return s},version:function(){return et},wordlists:function(){return Ae.E}});var a=r(96519),c=r(2593),u=r(20335),l=r(48171),d=r(44958),h=r(9279),f=r(21046),g=r(57218);const p="\u039e";var m=r(64353),y=r(79861),b=r(97013),w=r(53587),k=r(30032),v=r(82169),_=r(80711),P=r(34216);let E=null;try{if(E=WebSocket,null==E)throw new Error("inject please")}catch(rt){const e=new _.Logger(P.i);E=function(){e.throwError("WebSockets not supported in this environment",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var S=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const T=new _.Logger(P.i);let C=1;class A extends v.r{constructor(e,t){"any"===t&&T.throwError("WebSocketProvider does not support 'any' network yet",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(e,t),this._pollingInterval=-1,this._wsReady=!1,(0,w.defineReadOnly)(this,"_websocket",new E(this.connection.url)),(0,w.defineReadOnly)(this,"_requests",{}),(0,w.defineReadOnly)(this,"_subs",{}),(0,w.defineReadOnly)(this,"_subIds",{}),(0,w.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this._websocket.send(this._requests[e].payload)}))},this._websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,w.defineReadOnly)(e,"code",r.error.code||null),(0,w.defineReadOnly)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){T.throwError("cannot reset events block on WebSocketProvider",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){T.throwError("cannot set polling interval on WebSocketProvider",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return S(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&T.throwError("cannot set polling on WebSocketProvider",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=C++;return new Promise(((n,o)=>{const s=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:s},this._wsReady&&this._websocket.send(s)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return S(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=c.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return S(this,void 0,void 0,(function*(){this._websocket.readyState===E.CONNECTING&&(yield new Promise((e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}}))),this._websocket.close(1e3)}))}}var R=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const I=new _.Logger(P.i);class x extends v.r{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return R(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||I.throwError("no network detected",_.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,w.defineReadOnly)(this,"_network",t),this.emit("network",t,null))),t}))}}class O extends x{constructor(e,t){I.checkAbstract(new.target,O),e=(0,w.getStatic)(new.target,"getNetwork")(e),t=(0,w.getStatic)(new.target,"getApiKey")(t);super((0,w.getStatic)(new.target,"getUrl")(e,t),e),"string"===typeof t?(0,w.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,w.defineReadOnly)(this,e,t[e])}))}_startPending(){I.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return I.throwError("API provider does not support signing",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return I.throwError("not implemented; sub-classes must override getUrl",_.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const N=new _.Logger(P.i),B="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class L extends A{constructor(e,t){const r=new j(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,w.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===B}}class j extends O{static getWebSocketProvider(e,t){return new L(e,t)}static getApiKey(e){return null==e?B:(e&&"string"!==typeof e&&N.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:N.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===B&&(0,k.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===B}}var M=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const U=new _.Logger(P.i);class D extends O{static getApiKey(e){return null!=e&&U.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:U.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return M(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var H=r(93286),K=r(64377),q=r(58341),F=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const V=new _.Logger(P.i);function G(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,H.hexValue)((0,H.hexlify)(n)):"accessList"===r?"["+(0,K.accessListify)(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":(0,H.hexlify)(n),t[r]=n)}return t}function W(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function $(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function J(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}const Z="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function z(e,t,r){if("call"===e&&t.code===_.Logger.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,H.isHexString)(r))return r;V.throwError("missing revert data in call exception",_.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===_.Logger.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?n=t.error.message:"string"===typeof t.body?n=t.body:"string"===typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&V.throwError("insufficient funds for intrinsic transaction cost",_.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&V.throwError("nonce has already been used",_.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&V.throwError("replacement fee too low",_.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&V.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class Y extends b.Zk{constructor(e,t){V.checkNew(new.target,Y),super(e),(0,w.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,w.defineReadOnly)(this,"apiKey",t||Z)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return V.throwArgumentError("unsupported network","network",name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return F(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null,s="proxy"===e?$:W;this.emit("debug",{action:"request",request:n,provider:this});const i={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&(0,k.vh)(),Promise.resolve(!0))};let a=null;o&&(i.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const c=yield(0,q.fetchJson)(i,a,s||$);return this.emit("debug",{action:"response",request:n,response:(0,w.deepCopy)(c),provider:this}),c}))}detectNetwork(){return F(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return F(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>z("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=G(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(rt){return z("call",rt,t.transaction)}}case"estimateGas":{const e=G(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(rt){return z("estimateGas",rt,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=J(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=J(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&V.throwError("unsupported topic count",_.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"===typeof r&&66===r.length||V.throwError("unsupported topic format",_.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let t=0;t<r.length;t++){const e=r[t];if(null==e.blockHash){if(null==n[e.blockNumber]){const t=yield this.getBlock(e.blockNumber);t&&(n[e.blockNumber]=t.hash)}e.blockHash=n[e.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return F(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return this.apiKey===Z}}var X=r(52472),Q=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const ee=new _.Logger(P.i);function te(){return(new Date).getTime()}function re(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||ee.throwArgumentError("provider mismatch","networks",e):t=n}return t}function ne(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],o=e[r];return null!=t&&Math.abs(n-o)>t?null:(n+o)/2}function oe(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(c.O$.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>oe(e))));if("object"===typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"===typeof r?"[function]":oe(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let se=1;function ie(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const ae=[_.Logger.errors.CALL_EXCEPTION,_.Logger.errors.INSUFFICIENT_FUNDS,_.Logger.errors.NONCE_EXPIRED,_.Logger.errors.REPLACEMENT_UNDERPRICED,_.Logger.errors.UNPREDICTABLE_GAS_LIMIT],ce=["address","args","errorArgs","errorSignature","method","transaction"];function ue(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function le(e,t,r){let n=oe;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=ne(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return ne(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,w.shallowCopy)(e)).confirmations=-1,oe(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,w.shallowCopy)(e)).transactions=e.transactions.map((e=>((e=(0,w.shallowCopy)(e)).confirmations=-1,e))),oe(e))}:function(e){return null==e?null:oe(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const o=Object.keys(n);for(let e=0;e<o.length;e++){const r=n[o[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}function de(e,t){return Q(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,q.poll)((()=>new Promise(((n,o)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function he(e,t,r,n){return Q(this,void 0,void 0,(function*(){let o=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return o[r]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(o=yield de(e,t)),o[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(o=yield de(e,t)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(o=yield de(e,t)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&(0,H.isHexString)(n.blockTag)&&(o=yield de(e,t)),o[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&(0,H.isHexString)(r.fromBlock)||r.toBlock&&(0,H.isHexString)(r.toBlock))&&(o=yield de(e,t)),o.getLogs(r)}}return ee.throwError("unknown method error",_.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class fe extends b.Zk{constructor(e,t){ee.checkNew(new.target,fe),0===e.length&&ee.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(m.zt.isProvider(e)){const t=(0,k.Gp)(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=(0,w.shallowCopy)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=(0,k.Gp)(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&ee.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)})),n=r.reduce(((e,t)=>e+t.weight),0);null==t?t=n/2:t>n&&ee.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=re(r.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),(0,w.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,w.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Q(this,void 0,void 0,(function*(){return re(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Q(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"===typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=le(this,e,t),n=(0,X.y)(this.providerConfigs.map(w.shallowCopy));n.sort(((e,t)=>e.priority-t.priority));const o=this._highestBlockNumber;let s=0,i=!0;for(;;){const a=te();let c=n.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;c<this.quorum&&s<n.length;){const r=n[s++],i=se++;r.start=te(),r.staller=ie(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=he(r,o,e,t).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:i,backend:ue(r,te()),request:{method:e,params:(0,w.deepCopy)(t)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:i,backend:ue(r,te()),request:{method:e,params:(0,w.deepCopy)(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:i,backend:ue(r,null),request:{method:e,params:(0,w.deepCopy)(t)},provider:this}),c+=r.weight}const u=[];n.forEach((e=>{!e.done&&e.runner&&(u.push(e.runner),e.staller&&u.push(e.staller.getPromise()))})),u.length&&(yield Promise.race(u));const l=n.filter((e=>e.done&&null==e.error));if(l.length>=this.quorum){const e=r(l);if(void 0!==e)return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;i||(yield ie(100).getPromise()),i=!1}const d=n.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return ae.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,o={};ce.forEach((e=>{null!=r[e]&&(o[e]=r[e])})),ee.throwError(r.reason||r.message,e,o)})),0===n.filter((e=>!e.done)).length)break}return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),ee.throwError("failed to meet quorum",_.Logger.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>ue(e))),provider:this})}))}}const ge=null,pe=new _.Logger(P.i),me="84842078b09946638c03157f83405213";class ye extends A{constructor(e,t){const r=new be(e,t),n=r.connection;n.password&&pe.throwError("INFURA WebSocket project secrets unsupported",_.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,w.defineReadOnly)(this,"apiKey",r.projectId),(0,w.defineReadOnly)(this,"projectId",r.projectId),(0,w.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===me}}class be extends O{static getWebSocketProvider(e,t){return new ye(e,t)}static getApiKey(e){const t={apiKey:me,projectId:me,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?(pe.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),pe.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:pe.throwError("unsupported network",_.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===me&&(0,k.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===me}}class we extends v.r{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},o=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:(0,w.deepCopy)(t),provider:this}),(0,q.fetchJson)(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),o}}const ke=new _.Logger(P.i);class ve extends O{static getApiKey(e){return e&&"string"!==typeof e&&ke.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){ke.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:ke.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const _e=new _.Logger(P.i),Pe={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Ee extends O{constructor(e,t){if(null==t){const r=(0,w.getStatic)(new.target,"getNetwork")(e);if(r){const e=Pe[r.name];e&&(t={applicationId:e,loadBalancer:!0})}null==t&&_e.throwError("unsupported network",_.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&_e.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(_e.assertArgument("string"===typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),_e.assertArgument("string"===typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(_e.assertArgument("string"===typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):_e.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:_e.throwError("unsupported network",_.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n=null;n=t.loadBalancer?`https://${r}/v1/lb/${t.applicationId}`:`https://${r}/v1/${t.applicationId}`;const o={url:n,headers:{}};return null!=t.applicationSecretKey&&(o.user="",o.password=t.applicationSecretKey),o}isCommunityResource(){return this.applicationId===Pe[this.network.name]}}var Se=r(241);const Te=new _.Logger(P.i);function Ce(e,t){if(null==e&&(e="homestead"),"string"===typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1]){case"http":return new v.r(e);case"ws":return new A(e);default:Te.throwArgumentError("unsupported URL scheme","network",e)}}const r=(0,y.H)(e);return r&&r._defaultProvider||Te.throwError("unsupported getDefaultProvider network",_.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:fe,AlchemyProvider:j,CloudflareProvider:D,EtherscanProvider:Y,InfuraProvider:be,JsonRpcProvider:v.r,NodesmithProvider:ve,PocketProvider:Ee,Web3Provider:Se.Q,IpcProvider:ge},t)}var Ae=r(9855),Re=r(48659),Ie=r(72734),xe=r(11388),Oe=r(61184),Ne=r(8198),Be=r(64594),Le=r(4089),je=r(57727),Me=r(93684),Ue=r(84706),De=r(32046),He=r(67827),Ke=r(36274),qe=r(67949),Fe=r(38197),Ve=r(23951),Ge=r(33777),We=r(44478),$e=r(61843),Je=r(62768),Ze=r(35637),ze=r(44242),Ye=r(86237),Xe=r(46441),Qe=r(21261);const et="ethers/5.5.4",tt=new _.Logger(et);try{const e=window;null==e._ethers&&(e._ethers=i)}catch(rt){}},72010:function(e){e.exports=JSON.parse('{"name":"@gnosis.pm/safe-apps-sdk","version":"6.2.0","description":"SDK developed to integrate third-party apps with Safe-Multisig app.","main":"dist/src/index.js","typings":"dist/src/index.d.ts","_files":["dist/**/*","README.md"],"keywords":["Gnosis","sdk","apps"],"scripts":{"test":"jest","format-dist":"sed -i \'s/\\"files\\":/\\"_files\\":/\' dist/package.json","build":"yarn rimraf dist && tsc && yarn format-dist","lint":"tslint -p tsconfig.json"},"author":"Gnosis (https://gnosis.io)","license":"MIT","dependencies":{"@gnosis.pm/safe-react-gateway-sdk":"^2.5.6","ethers":"^5.4.7"},"devDependencies":{"rimraf":"^3.0.2"},"repository":{"type":"git","url":"git+https://github.com/gnosis/safe-apps-sdk.git"},"bugs":{"url":"https://github.com/gnosis/safe-apps-sdk/issues"},"homepage":"https://github.com/gnosis/safe-apps-sdk#readme","publishConfig":{"access":"public"}}')}}]);